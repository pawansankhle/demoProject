!function(e,t,n){"use strict";function o(){function e(e){e.addClass("md-body")}return{compile:e,restrict:"A"}}function r(){function e(e){var t=e.find("md-select");return t.length&&t.addClass("md-table-select").attr("md-container-class","md-table-select"),e.addClass("md-cell"),n}function t(){}function n(e,t,n,o){function r(){return a.columns[l()]}function l(){return Array.prototype.indexOf.call(t.parent().children(),t[0])}var i=t.find("md-select"),c=o.shift(),a=o.shift();n.ngClick&&t.addClass("md-clickable"),i.length&&(i.on("click",function(e){e.stopPropagation()}),t.addClass("md-clickable").on("click",function(e){e.stopPropagation(),i[0].click()})),c.getTable=a.getElement,e.$watch(r,function(e){e&&(e.numeric?t.addClass("md-numeric"):t.removeClass("md-numeric"))})}return{controller:t,compile:e,require:["mdCell","^^mdTable"],restrict:"A"}}function l(e){function n(e){return e.addClass("md-column"),o}function o(n,o,r,l){function i(){var r=t.element('<md-icon md-svg-icon="arrow-up.svg">');e(r.addClass("md-sort-icon").attr("ng-class","getDirection()"))(n),o.hasClass("md-numeric")?o.prepend(r):o.append(r)}function c(){Array.prototype.some.call(o.find("md-icon"),function(e){return e.classList.contains("md-sort-icon")&&o[0].removeChild(e)})}function a(){c(),o.removeClass("md-sort").off("click",g)}function s(){i(),o.addClass("md-sort").on("click",g)}function d(){return Array.prototype.indexOf.call(o.parent().children(),o[0])}function u(){return n.orderBy?f.order===n.orderBy||f.order==="-"+n.orderBy:!1}function m(){return r.hasOwnProperty("mdNumeric")&&""===r.mdNumeric?!0:n.numeric}function g(){n.$applyAsync(function(){u()?f.order="md-asc"===n.getDirection()?"-"+n.orderBy:n.orderBy:f.order="md-asc"===n.getDirection()?n.orderBy:"-"+n.orderBy,t.isFunction(f.onReorder)&&f.onReorder(f.order)})}function p(e,t){h.columns[e]=t,t.numeric?o.addClass("md-numeric"):o.removeClass("md-numeric")}var f=l.shift(),h=l.shift();n.getDirection=function(){return u()?f.order==="-"+n.orderBy?"md-desc":"md-asc":r.hasOwnProperty("mdDesc")?"md-desc":"md-asc"},n.$watch(u,function(e){e?o.addClass("md-active"):o.removeClass("md-active")}),n.$watch(d,function(e){p(e,{numeric:m()})}),n.$watch(m,function(e){p(d(),{numeric:e})}),n.$watch("orderBy",function(e){e?s():a()})}return{compile:n,require:["^^mdHead","^^mdTable"],restrict:"A",scope:{numeric:"=?mdNumeric",orderBy:"@?mdOrderBy"}}}function i(e){return function(n,o,r,l){if(r&&"object"==typeof r){var i=e(n,o,!0,l);return t.extend(i.instance,r),i()}return e(n,o,r,l)}}function c(e,n,o,r,l,i,c,a,s){function d(n,o){var l,c=i.$new(),a=e(n)(c),s=r.createBackdrop(c,"md-edit-dialog-backdrop");if(o.controller?l=m(o,c,{$element:a,$scope:c}):t.extend(c,o.scope),o.disableScroll&&u(a),y.prepend(s).append(a.addClass("md-whiteframe-1dp")),h(a,o.targetEvent.target),o.focusOnOpen){var d=r.findFocusTarget(a);d&&d.focus()}return o.clickOutsideToClose&&s.on("click",function(){a.remove()}),o.escToClose&&f(a),a.on("$destroy",function(){w=!1,s.remove()}),l}function u(e){var t=r.disableScrollAround(e,y);e.on("$destroy",function(){t()})}function m(e,o,r){return e.controller?(e.resolve&&t.extend(r,e.resolve),e.locals&&t.extend(r,e.locals),e.controllerAs?(o[e.controllerAs]={},e.bindToController?t.extend(o[e.controllerAs],e.scope):t.extend(o,e.scope)):t.extend(o,e.scope),e.bindToController?n(e.controller,r,o[e.controllerAs]):n(e.controller,r)):void 0}function g(e){return l(function(n,o){function r(e){o("Unexpected template value. Expected a string; received a "+e+".")}var l=e.template;if(l)return t.isString(l)?n(l):r(typeof l);if(e.templateUrl){if(l=c.get(e.templateUrl))return n(l);var i=function(e){return n(e)},s=function(){return o("Error retrieving template from URL.")};return a(e.templateUrl).then(i,s)}o("Template not provided.")})}function p(e){w=!1,console.error(e)}function f(e){var t=function(t){t.keyCode===b&&e.remove()};y.on("keyup",t),e.on("$destroy",function(){y.off("keyup",t)})}function h(e,n){var o=t.element(n).controller("mdCell").getTable(),r=function(){return e.prop("clientHeight")},l=function(){return{width:a(),height:r()}},c=function(){var e=o.parent();return"MD-TABLE-CONTAINER"===e.prop("tagName")?e[0].getBoundingClientRect():o[0].getBoundingClientRect()},a=function(){return e.prop("clientWidth")},d=function(){var t=l(),o=n.getBoundingClientRect(),r=c();t.width>r.right-o.left?e.css("left",r.right-t.width+"px"):e.css("left",o.left+"px"),t.height>r.bottom-o.top?e.css("top",r.bottom-t.height+"px"):e.css("top",o.top+1+"px"),e.css("minWidth",o.width+"px")},u=i.$watch(a,d),m=i.$watch(r,d);s.addEventListener("resize",d),e.on("$destroy",function(){u(),m(),s.removeEventListener("resize",d)})}function v(e,n){function o(){var e=n.type;for(var t in n.validators)e+=" "+t+'="'+n.validators[t]+'"';return e}return{controller:["$element","$q","save","$scope",function(e,n,o,r){function l(){return r.editDialog.$invalid?n.reject():t.isFunction(o)?n.when(o(r.editDialog.input)):n.resolve()}this.dismiss=function(){e.remove()},this.getInput=function(){return r.editDialog.input},r.dismiss=this.dismiss,r.submit=function(){l().then(function(){r.dismiss()})}}],locals:{save:n.save},scope:{cancel:n.cancel||"Cancel",messages:n.messages,model:n.modelValue,ok:n.ok||"Save",placeholder:n.placeholder,title:n.title,size:e},template:'<md-edit-dialog><div layout="column" class="md-content"><div ng-if="size === \'large\'" class="md-title">{{title || \'Edit\'}}</div><form name="editDialog" layout="column" ng-submit="submit(model)"><md-input-container md-no-float><input name="input" ng-model="model" md-autofocus placeholder="{{placeholder}} "'+o()+'><div ng-messages="editDialog.input.$error"><div ng-repeat="(key, message) in messages" ng-message="{{key}}">{{message}}</div></div></md-input-container></form></div><div ng-if="size === \'large\'" layout="row" layout-align="end" class="md-actions"><md-button class="md-primary" ng-click="dismiss()">{{cancel}}</md-button><md-button class="md-primary" ng-click="submit()">{{ok}}</md-button></div></md-edit-dialog>'}}var b=27,w=!1,y=t.element(o.prop("body")),$={clickOutsideToClose:!0,disableScroll:!0,escToClose:!0,focusOnOpen:!0};return this.show=function(e){if(w)return l.reject();if(w=!0,e=t.extend({},$,e),!e.targetEvent)return p("options.targetEvent is required to align the dialog with the table cell.");if(!e.targetEvent.target.classList.contains("md-cell"))return p("The event target must be a table cell.");if(e.bindToController&&!e.controllerAs)return p("You must define options.controllerAs when options.bindToController is true.");var n=g(e),o=[n];for(var r in e.resolve)n=e.resolve[r],o.push(l.when(t.isFunction(n)?n():n));return n=l.all(o),n["catch"](p),n.then(function(t){var n=t.shift();for(var o in e.resolve)e.resolve[o]=t.shift();return d(n,e)})},this.small=function(e){return this.show(t.extend({},e,v("small",e)))}.bind(this),this.large=function(e){return this.show(t.extend({},e,v("large",e)))}.bind(this),this}function a(){function e(e){e.addClass("md-foot")}return{compile:e,restrict:"A"}}function s(e){function n(e){return e.addClass("md-head"),r}function o(){}function r(n,o,r,l){function i(){for(var e=o.children(),t=0;t<e.length-1;t++)e.eq(t).prepend('<th class="md-column">');e.eq(e.length-1).prepend(c())}function c(){var o=t.element("<md-checkbox>");return o.attr("aria-label","Select All"),o.attr("ng-click","toggleAll()"),o.attr("ng-checked","allSelected()"),t.element('<th class="md-column md-checkbox-column">').append(e(o)(n))}function a(e){return t.element(e).controller("mdSelect")}function s(){var e=o.children(),t=e.eq(e.length-1);Array.prototype.some.call(t.prop("cells"),function(e){return e.classList.contains("md-checkbox-column")&&t[0].removeChild(e)})}function d(){return l.selectEnabled}n.allSelected=function(){var e=l.getBodyRows();return e.length&&e.map(a).every(function(e){return e&&(e.disabled||e.isSelected())})},n.selectAll=function(){l.getBodyRows().map(a).forEach(function(e){e&&!e.isSelected()&&e.select()})},n.toggleAll=function(){return n.allSelected()?n.unSelectAll():n.selectAll()},n.unSelectAll=function(){l.getBodyRows().map(a).forEach(function(e){e&&e.isSelected()&&e.deselect()})},n.$watch(d,function(e){e?i():s()})}return{bindToController:!0,compile:n,controller:o,controllerAs:"$mdHead",require:"^^mdTable",restrict:"A",scope:{order:"=?mdOrder",onReorder:"=?mdOnReorder"}}}function d(){function e(e){return e.addClass("md-row"),t}function t(e,t,n,o){function r(){return o.selectEnabled}function l(){return-1!==o.getBodyRows().indexOf(t[0])}l()&&e.$watch(r,function(e){e&&!n.mdSelect&&console.error("Missing md-select attribute on table row")})}return{compile:e,require:"^^mdTable",restrict:"A"}}function u(e){function n(){}function o(n,o,r,l){function i(){return r.hasOwnProperty("mdAutoSelect")&&""===r.mdAutoSelect?!0:m.autoSelect}function c(){var o=t.element("<md-checkbox>");return o.attr("aria-label","Select Row"),o.attr("ng-click","$mdSelect.toggle($event)"),o.attr("ng-checked","$mdSelect.isSelected()"),o.attr("ng-disabled","$mdSelect.disabled"),t.element('<td class="md-cell md-checkbox-cell">').append(e(o)(n))}function a(){Array.prototype.some.call(o.children(),function(e){return e.classList.contains("md-checkbox-cell")&&o[0].removeChild(e)}),i()&&o.off("click",u)}function s(){o.prepend(c()),i()&&o.on("click",u)}function d(){return g.selectEnabled}function u(e){n.$applyAsync(function(){m.toggle(e)})}var m=l.shift(),g=l.shift();m.isSelected=function(){return!g.selectEnabled||m.disabled?!1:t.isArray(g.selected)?-1!==g.selected.indexOf(m.model):t.isObject(g.selected)?m.id&&g.selected.hasOwnProperty(m.id):void 0},m.select=function(){m.disabled||(t.isArray(g.selected)?g.selected.push(m.model):g.selected[m.id]=m.model,t.isFunction(m.onSelect)&&m.onSelect(m.model,m.id))},m.deselect=function(){t.isArray(g.selected)?g.selected.splice(g.selected.indexOf(m.model),1):delete g.selected[m.id],t.isFunction(m.onDeselect)&&m.onDeselect(m.model,m.id)},m.toggle=function(e){return e&&e.stopPropagation&&e.stopPropagation(),m.isSelected()?m.deselect():m.select()},n.$watch(d,function(e){e?s():a()}),n.$watch(i,function(e,t){e!==t&&(g.selectEnabled&&e?o.on("click",u):o.off("click",u))}),n.$watch(m.isSelected,function(e){return e?o.addClass("md-selected"):o.removeClass("md-selected")})}return{bindToController:!0,controller:n,controllerAs:"$mdSelect",link:o,require:["mdSelect","^^mdTable"],restrict:"A",scope:{id:"@mdSelectId",model:"=mdSelect",disabled:"=ngDisabled",onSelect:"=?mdOnSelect",onDeselect:"=?mdOnDeselect",autoSelect:"=mdAutoSelect"}}}function m(){function e(e,n){if(e.addClass("md-table"),n.hasOwnProperty("mdProgress")){var o=e.find("tbody").eq(0)[0],r=t.element('<thead class="md-table-progress">');o&&e[0].insertBefore(r[0],o)}}function n(e,n,o,r){function l(t){return t.some(function(t){return Array.prototype.some.call(t.attributes,function(t){return"mdSelectId"===e.$normalize(t.name)})})}function i(){return g.queue.length?void g.queue[0].then(function(){g.queue.shift(),i()}):r.$applyAsync()}function c(){return n.prop("rows").length}function a(){return e.hasOwnProperty("mdRowSelect")&&""===e.mdRowSelect?!0:g.rowSelect}function s(){return u()&&(t.isArray(g.selected)?d():m())}function d(){var e=g.getBodyRows();return e.length&&l(e)?console.error("IDs will not work with arrays. Please use an object instead."):!0}function u(){return g.selected?t.isObject(g.selected)?!0:console.error("Row selection model is an invalid type."):console.error("Row selection model is undefined.")}function m(){var e=g.getBodyRows();return e.length&&!l(e)?console.error("Please use an array if you are not using IDs."):!0}var g=this;g.queue=[],g.columns={},g.columnCount=function(){return Array.prototype.reduce.call(n.prop("rows"),function(e,t){return!t.classList.contains("md-row")||t.classList.contains("ng-leave")?e:t.cells.length>e?t.cells.length:e},0)},g.getRows=function(e){return Array.prototype.reduce.call(e,function(e,t){return e.concat(Array.prototype.filter.call(t.rows,function(e){return!e.classList.contains("ng-leave")}))},[])},g.getBodyRows=function(){return g.getRows(n.prop("tBodies"))},g.getElement=function(){return n},g.queuePromise=function(e){e&&1===g.queue.push(t.isArray(e)?o.all(e):o.when(e))&&i()},r.$watchGroup([a,c],function(e){g.selectEnabled=e[0]&&!!s(),g.selectEnabled?n.addClass("md-row-select"):n.removeClass("md-row-select")}),e.hasOwnProperty("mdProgress")&&r.$watch("$mdTable.progress",g.queuePromise)}return n.$inject=["$attrs","$element","$q","$scope"],{bindToController:!0,compile:e,controller:n,controllerAs:"$mdTable",restrict:"A",scope:{progress:"=?mdProgress",selected:"=ngModel",rowSelect:"=mdRowSelect"}}}function g(){function e(e){return e.addClass("md-table-pagination"),n}function n(e,n,o){function r(){t.isFunction(e.onPaginate)&&e.onPaginate(e.page,e.limit)}e.$$label=t.extend({page:"Page:",rowsPerPage:"Rows per page:",of:"of"},e.$eval(e.label)||{}),e.first=function(){e.page=1,r()},e.hasNext=function(){return e.page*e.limit<e.total},e.hasPrevious=function(){return e.page>1},e.last=function(){e.page=e.pages(),r()},e.max=function(){return e.hasNext()?e.page*e.limit:e.total},e.min=function(){return e.page*e.limit-e.limit},e.next=function(){e.page++,r()},e.onPageChange=r,e.pages=function(){return Math.ceil(e.total/e.limit)},e.previous=function(){e.page--,r()},e.range=function(e){return new Array(e)},e.showBoundaryLinks=function(){return o.hasOwnProperty("mdBoundaryLinks")&&""===o.mdBoundaryLinks?!0:e.boundaryLinks},e.showPageSelect=function(){return o.hasOwnProperty("mdPageSelect")&&""===o.mdPageSelect?!0:e.pageSelect},e.$watch("limit",function(t,n){t!==n&&(e.page=Math.floor((e.page*n-n+t)/t),r())})}return{compile:e,restrict:"E",scope:{boundaryLinks:"=?mdBoundaryLinks",label:"@?mdLabel",limit:"=mdLimit",page:"=mdPage",pageSelect:"=?mdPageSelect",onPaginate:"=?mdOnPaginate",options:"=mdOptions",total:"@mdTotal"},templateUrl:"md-table-pagination.html"}}function p(){function e(e,t,n,o){e.columnCount=o.columnCount,e.deferred=function(){return!!o.queue.length}}return{link:e,require:"^^mdTable",restrict:"C",scope:{},templateUrl:"md-table-progress.html"}}t.module("md.data.table",["md.table.templates"]),t.module("md.data.table").directive("mdBody",o),t.module("md.data.table").directive("mdCell",r),t.module("md.data.table").directive("mdColumn",l),l.$inject=["$compile"],t.module("md.data.table").decorator("$controller",i).factory("$mdEditDialog",c),i.$inject=["$delegate"],c.$inject=["$compile","$controller","$document","$mdUtil","$q","$rootScope","$templateCache","$templateRequest","$window"],t.module("md.data.table").directive("mdFoot",a),t.module("md.data.table").directive("mdHead",s),s.$inject=["$compile"],t.module("md.data.table").directive("mdRow",d),t.module("md.data.table").directive("mdSelect",u),u.$inject=["$compile"],t.module("md.data.table").directive("mdTable",m),t.module("md.data.table").directive("mdTablePagination",g),t.module("md.data.table").directive("mdTableProgress",p),t.module("md.table.templates",["md-table-pagination.html","md-table-progress.html","arrow-up.svg","navigate-before.svg","navigate-first.svg","navigate-last.svg","navigate-next.svg"]),t.module("md-table-pagination.html",[]).run(["$templateCache",function(e){e.put("md-table-pagination.html",'<span class="label" ng-show="showPageSelect()">{{$$label[\'page\']}}</span>\n\n<md-select class="md-table-select" ng-show="showPageSelect()" ng-model="page" md-container-class="md-pagination-select" ng-change="onPageChange()" aria-label="Page">\n  <md-option ng-repeat="num in range(pages()) track by $index" ng-value="$index + 1">{{$index + 1}}</md-option>\n</md-select>\n\n<span class="label">{{$$label[\'rowsPerPage\']}}</span>\n\n<md-select class="md-table-select" ng-model="limit" md-container-class="md-pagination-select" aria-label="Rows" placeholder="{{options ? options[0] : 5}}">\n  <md-option ng-repeat="rows in options ? options : [5, 10, 15]" ng-value="rows">{{rows}}</md-option>\n</md-select>\n\n<span class="label">{{min() + 1}} - {{max()}} {{$$label[\'of\']}} {{total}}</span>\n\n<md-button class="md-icon-button" type="button" ng-if="showBoundaryLinks()" ng-click="first()" ng-disabled="!hasPrevious()" aria-label="First">\n  <md-icon md-svg-icon="navigate-first.svg"></md-icon>\n</md-button>\n<md-button class="md-icon-button" type="button" ng-click="previous()" ng-disabled="!hasPrevious()" aria-label="Previous">\n  <md-icon md-svg-icon="navigate-before.svg"></md-icon>\n</md-button>\n<md-button class="md-icon-button" type="button" ng-click="next()" ng-disabled="!hasNext()" aria-label="Next">\n  <md-icon md-svg-icon="navigate-next.svg"></md-icon>\n</md-button>\n<md-button class="md-icon-button" type="button" ng-if="showBoundaryLinks()" ng-click="last()" ng-disabled="!hasNext()" aria-label="Last">\n  <md-icon md-svg-icon="navigate-last.svg"></md-icon>\n</md-button>')}]),t.module("md-table-progress.html",[]).run(["$templateCache",function(e){e.put("md-table-progress.html",'<tr>\n  <th colspan="{{columnCount()}}">\n    <md-progress-linear ng-show="deferred()" md-mode="indeterminate"></md-progress-linear>\n  </th>\n</tr>')}]),t.module("arrow-up.svg",[]).run(["$templateCache",function(e){e.put("arrow-up.svg",'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"/></svg>')}]),t.module("navigate-before.svg",[]).run(["$templateCache",function(e){e.put("navigate-before.svg",'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/></svg>')}]),t.module("navigate-first.svg",[]).run(["$templateCache",function(e){e.put("navigate-first.svg",'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M7 6 v12 h2 v-12 h-2z M17.41 7.41L16 6l-6 6 6 6 1.41-1.41L12.83 12z"/></svg>')}]),t.module("navigate-last.svg",[]).run(["$templateCache",function(e){e.put("navigate-last.svg",'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M15 6 v12 h2 v-12 h-2z M8 6L6.59 7.41 11.17 12l-4.58 4.59L8 18l6-6z"/></svg>')}]),t.module("navigate-next.svg",[]).run(["$templateCache",function(e){e.put("navigate-next.svg",'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/></svg>')}])}(window,angular);
