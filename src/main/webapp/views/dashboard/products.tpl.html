<div class="row" ng-init="isAddProduct = false">
  <div class="col-sm-12">
     <div class="bs-component">
        <div class="panel panel-inverse">
           <div class="panel-heading">
                <div>Search
                <button class="btn btn-primary pull-right fa fa-plus" ng-click="isAddProduct =! isAddProduct;resetDept();reset();" style="color:white;margin-top:-5px">Add Product</button></div>
            </div>

           <div class="panel-body">
	           	<form>
	           	  <div class="form-group col-sm-2 right-border" style="margin:0px">
	                 <select title="Search By Department" name="status" class="form-control" ng-model="productForm.department" ng-change="getCategories(productForm.department)">
	                    <option ng-if="productDepartments" ng-repeat="department in productDepartments" value="{{department.id}}">{{department.name | lowercase}}</option>
                   </select>
	              </div>
	              <div class="form-group col-sm-2 right-border" style="margin:0px">
	                 <select title="Search By Category" name="category" class="form-control" ng-model="productForm.category">
	                    <option ng-if="productcategories" ng-repeat="category in productcategories" value="{{category.id}}">{{category.name | lowercase}}</option>
                     </select>
                     </div>
	              <div class="form-group col-sm-2 right-border" style="margin:0px">
	                  <input type="text" title="Search By ID" class="form-control" placeholder="Search by ID" ng-model="productForm.byProductId">
	              </div>
	              <div class="form-group col-sm-3 right-border" style="margin:0px">
	                  <input title="Created Date" type="date" style="min-width: 150px;" class="form-control" ng-model="productForm.byCreatedTime">
	              </div>
	              <div class="form-group  col-sm-3" style="margin:0px">
	              	<button title="Filter" class="btn btn-sm btn-raised btn-success" ng-click="search()"><i class="fa fa-filter"></i>Go</button>
	                <button title="Reset Filter" class="btn btn-raised btn-warning" ng-click="reset()"><i class="fa fa-refresh pull-right"></i></button>
	              </div>
	            </form>
           </div>
        </div>
        </div>
       <div class="well col-sm-12">
         <div class="bs-component">
        <table class="table table-responsive">
	      <thead>
	          <th>Thumbnil</th>
	          <th>Product ID</th>
	          <th>Name</th>
	          <th>created On</th>
	          <th>Price</th>
	          <th>Quantity</th>
	          <th></th>
	      </thead>
	      <tbody>
	        <tr ng-if="products.length == 0"><td md-cell colspan="5" style="text-align: center;"><b>No  Data Found</b></td></tr>
	        <tr ng-repeat="product in products">
	          <td><img class="img img-responsive" ng-src="{{product.images[0].file}}" width="50" height="50"></img></td>
	          <td>{{product.id}}</td>
	          <td>{{product.name}}</td>
	          <td>{{product.createdtime | date}}</td>
	          <td>{{product.price }}</td>
	          <td>{{product.quantity}}</td>
	          <td>
	            <button  style="margin: 0px;" class="btn btn-sm btn-success btn-raised" ng-click="viewProduct(product);">View</button>
	            <button ng-show="!product.showitem && isAuthorized(userRoles.admin)" class="btn btn-sm btn-success btn-raised" ng-click="enableDisableProduct(product,$index,'enable')">Enable</button>
	            <button ng-show="product.showitem && isAuthorized(userRoles.admin)" class="btn btn-sm btn-danger btn-raised" ng-click="enableDisableProduct(product,$index,'disable')">Disable</button>
	         </td>
	         </tr>
	      </tbody>
	    </table>
	   </div>
	 </div>
  </div>
  <div class="bs-component">
  <modal title="Add Product" visible="isAddProduct" >
    <div class="row">
      <div class="col-sm-12">
        <form  class="bs-component" style="padding: 1px 70px 0px 70px;" ng-init="disable = false"
          name="addproductform" 
          ng-submit="addProduct(addProductForm)" novalidate>

          <div class="row">
                <div class="form-group">
                  <div class="alert alert-danger" ng-show="errorDialog">{{ message }}</div>
                </div>
                <div class="col-sm-6">
              <div class="form-group label-floating is-empty">
                <label for="username" class="control-label">Product Name<font color="red">*</font></label>
                <input  ng-required="true" name="name"  maxlength="30" class="form-control" ng-model="addProductForm.name" />
                <div ng-messages="addproductform.name.$error" ng-if="addproductform.name.$touched">
			        <div ng-message="minlength">
			            <font color="red" >minimum length 6 required</font>
			        </div>
			        <div ng-message="required"><font color="red">this field is required</font></div>
			      </div>
              </div>
            </div>
            <div class="col-sm-6">
              <div class="form-group label-floating is-empty">
                <label  class="control-label">Price<font color="red">*</font></label>
                <input type="number" ng-required="true" class="form-control" name="price"  required ng-model="addProductForm.price" />
                <div ng-messages="addproductform.price.$error" ng-if="addproductform.price.$touched">
                    <div ng-message="required"><font color="red" >this field is required</font></div>
			    </div>
              </div>
            </div>
            <div class="col-sm-6">
              <div class="form-group label-floating is-empty">
                <label  class="control-label">Discount<font color="red">*</font></label>
                <input type="number" ng-required="true" class="form-control" name="discount" required ng-model="addProductForm.discount" />
                <div ng-messages="addproductform.discount.$error" ng-if="addproductform.discount.$touched">
                    <div ng-message="required"><font color="red" >this field is required</font></div>
			      
                </div>
              </div>
            </div>
            <div class="col-sm-6">
              <div class="form-group label-floating is-empty">
                <label for="quantity" class="control-label">Quantity<font color="red">*</font></label>
                <input type="number" ng-required="true" name="quantity" class="form-control"  required ng-model="addProductForm.quantity" />
                <div ng-messages="addproductform.quantity.$error" ng-if="addproductform.quantity.$touched">
                    <div ng-message="required"><font color="red" >this field is required</font></div>
			      
                </div>
              </div>
            </div>
            <div class="col-sm-6">
                <div class="form-group is-empty">
                <label for="department"  class="control-label">Department<font color="red">*</font></label>
                <select ng-required="true" ng-model="addProductForm.department" class="form-control"  ng-change="getCategories(addProductForm.department)">
                     <option ng-if="productDepartments" ng-repeat="department in productDepartments" value="{{department.id}}">{{department.name | lowercase}}</option>
                </select>
                  <div ng-messages="addproductform.department.$error" ng-if="addproductform.department.$touched">
                   <div ng-message="required"><font color="red" >this field is required</font></div>
			      
                  </div>
                  <span class="material-input"></span>
              </div>
            </div>
            <div class="col-sm-6">
                <div class="form-group is-empty">
                <label for="category"  class="control-label">Category<font color="red">*</font></label>
                <select ng-required="true" ng-model="addProductForm.category" class="form-control">
                    <option ng-if="productcategories" ng-repeat="category in productcategories" value="{{category.id}}">{{category.name}}</option>
                </select>
                <div ng-messages="addproductform.category.$error" ng-if="addproductform.category.$touched">
                   <div ng-message="required"><font color="red" >this field is required</font></div>
			    </div>
                  <span class="material-input"></span>
              </div>
            </div>
            <div class="col-sm-12">
              <div class="form-group label-floating is-empty">
                <label for="description" class="control-label">Description</label>
                <input ng-required="true" ng-maxlength=300 maxlength=300 name="description" required class="form-control" ng-model="addProductForm.description" />
                   <div ng-messages="addproductform.description.$error" ng-if="addproductform.description.$touched">
                     <div ng-message="maxlength">
			            <font color="red" >maximum 300 character</font>
			         </div>
			         <div ng-message="required"><font color="red">this field is required</font></div>
			       </div>
              </div>
            </div>
            
          </div>
           <input type="submit" class="btn btn-success  btn-raised col-sm-12" value="Create" ng-disabled="addproductform.$invalid || disable">
          <!-- <input type="submit" class="btn btn-success  btn-raised col-sm-12" value="Create"> -->
          
        </form>
      </div>
    </div>
    </modal>
</div>
